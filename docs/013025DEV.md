# Development Notes - January 30, 2025

## UI Redesign Completion & ADSR Planning

### Completed Changes
1. Sequencer Interface
   - Replaced grid with linear 16-step display
   - Implemented channel rows with Roman numeral identifiers
   - Added position indicator above sequence bars
   - Fixed parameter display locations

2. Menu System Updates
   - Moved parameter menus below sequencer
   - Consolidated cursor handling to left side
   - Parameter values display in top right
   - BPM display in top left

### Next Phase: Attack/Decay Implementation
1. Technical Requirements
   - NRx2 Register manipulation for envelope control
   - Attack time parameter (0-15)
   - Decay time parameter (0-15)
   - Integration with existing note triggering

2. Implementation Approach
   - Add envelope control to note start/stop functions
   - Map parameter values to appropriate register bits
   - Consider timing and synchronization with sequencer steps
   - Handle envelope reset on new notes

3. UI Considerations
   - Attack/Decay parameter display format
   - Value range representation
   - Real-time parameter adjustment handling

### Questions to Address
1. Parameter Ranges
   - How to map 0-15 values to meaningful time values?
   - Should we use different ranges for Attack vs Decay?

2. Sound Design
   - How to handle retriggering during sequence playback?
   - Balance between musical expressiveness and GB hardware limitations

3. Performance
   - Ensure envelope processing doesn't impact sequence timing
   - Consider optimization of register updates

### Next Steps
1. Implement basic envelope control functions
2. Test parameter value mapping
3. Integrate with existing playback system
4. Add real-time parameter control