# Development Notes - January 28, 2025 (Update 2)

## Sequencer Optimization Phase 1: Tile Update Consolidation

### Current Issues Identified
1. Multiple vblank waits for single step updates
2. Redundant tile updates during blinking
3. Inefficient 2x2 block updates

### Proposed Changes
1. Consolidate vblank waits for 2x2 blocks
2. Optimize blinking step updates
3. Reduce redundant parameter display updates

### Implementation Plan
1. Modify step drawing function
2. Update blink handling
3. Consolidate parameter display updates

### Code Changes
```c
// Before:
wait_vbl_done();
set_bkg_tile_xy(x, y, tile);
set_bkg_tile_xy(x + 1, y, tile);
set_bkg_tile_xy(x, y + 1, tile);
set_bkg_tile_xy(x + 1, y + 1, tile);

// After:
wait_vbl_done();
VBK_REG = 0;  // Ensure we're writing to the correct bank
set_bkg_tiles(x, y, 2, 2, block_tiles);
```

### Expected Benefits
1. Reduced VBlank waits
2. More efficient tile updates
3. Smoother visual updates
4. Better CPU utilization

### Metrics to Monitor
1. Frame timing during updates
2. Visual smoothness
3. Input responsiveness

### Next Steps
1. Implement tile update optimization
2. Test performance impact
3. Move to parameter display optimization if successful

### Questions to Consider
1. Should we implement double buffering?
2. Can we reduce update frequency further?
3. Should we modify the blinking behavior?