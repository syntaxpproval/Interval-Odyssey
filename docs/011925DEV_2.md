# Development Notes - January 19, 2025 (Interface Spec)

## Music Sequencer Interface Implementation

### Core Interface Elements

#### Display Components
1. Main Grid
   - 4x4 layout (16 steps)
   - Selected step: darkened
   - Current playing step: blinking
   - Visual correlation with S: value

2. Parameter Display
   - Tempo: ♪120 (configurable)
   - Channel: CH:1-4
   - Step: S:01-16 (→ indicates cursor)
   - Note: N:C3 (musical note value)
   - ADSR: Placeholder fields
   - Volume: V:00-15

3. Channel Information
   - C1: DUTY (configurable parameters)
   - C2: DUTY2 (configurable parameters)
   - C3: WAVE (wavetable selection)
   - C4: NOISE (noise parameters)

### Navigation System
```c
enum CursorState {
    CURSOR_TEMPO,
    CURSOR_CHANNEL,
    CURSOR_STEP,
    CURSOR_NOTE,
    CURSOR_VOLUME,
    CURSOR_DUTY1_PARAM,
    CURSOR_DUTY2_PARAM,
    CURSOR_WAVE_PARAM,
    CURSOR_NOISE_PARAM
};

struct SequencerState {
    UINT8 current_channel;    // 1-4
    UINT8 current_step;       // 1-16
    UINT8 tempo;             // stored as BPM
    UINT8 cursor_position;    // enum CursorState
    UINT8 selected_param;     // marked with star
};
```

### Channel-Specific Parameters

#### DUTY (CH1 & CH2)
- Duty Cycle Options: 12.5%, 25%, 50%, 75%
- Sweep Settings (CH1 only)

#### WAVE (CH3)
- Predefined wavetable selection
- Custom wave shape (if implemented)

#### NOISE (CH4)
- Frequency/pitch
- Noise pattern type

### Implementation Priorities
1. Basic grid and parameter display
2. Step selection and visualization
3. Note input system
4. Volume control
5. Channel parameter configuration
6. ADSR placeholder UI (functionality later)

### Next Steps
1. Implement basic grid drawing routine
2. Create parameter navigation system
3. Design data structure for pattern storage
4. Implement step selection/editing system