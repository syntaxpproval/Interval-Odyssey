# Development Notes - February 3, 2025 (Part 3)

## Save Data Analysis

### Sequencer Data Size (Per Pattern)
```
Per Step (5 bytes):
- armed:  1 byte
- note:   1 byte
- volume: 1 byte
- attack: 1 byte
- decay:  1 byte

Per Channel (16 steps + settings):
- 16 steps × 5 bytes = 80 bytes
- channel settings: 3 bytes
- Total per channel: 83 bytes

Total Per Pattern:
- 4 channels × 83 bytes = 332 bytes
- Global settings (tempo, transpose, etc): ~8 bytes
- Total: ~340 bytes
```

### Pattern Bank Requirements
- If implementing 8 pattern banks:
  - 340 bytes × 8 = 2,720 bytes
- Chord mode data per pattern: ~20 bytes
- Total for all patterns: ~3KB

### RPG Save Data Estimate
- Player Stats: ~16 bytes
- Game Progress: ~16 bytes
- Future expansion: ~1KB
- Total: ~1KB minimum

### Total Save Requirements
- Music Data: ~3KB
- RPG Data: ~1KB
- System/State Data: ~0.5KB
- Buffer for expansion: ~3.5KB
- Total: ~8KB

### Recommendation
- Use MBC1+RAM+BATTERY (Type 0x03)
- Allocate 8KB RAM bank (Size code 0x02)
  - Sufficient for current needs
  - Room for expansion
  - Common/well-supported size

### Save Data Organization
1. Bank 0 (0x0000-0x1FFF):
   - System state
   - Current pattern data
   - RPG essential data

2. Bank 1 (0x2000-0x3FFF):
   - Pattern bank storage
   - Extended sequencer data

### Next Steps
1. Implement save/load functionality
2. Create save data structures
3. Add battery check on startup
4. Implement data verification