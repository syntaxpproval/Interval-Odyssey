# Development Notes - January 19, 2025

## Music Mode Sequencer Discussion

### Technical Assessment

#### Hardware Capabilities
- Channel 1: Square wave with sweep
- Channel 2: Square wave
- Channel 3: Wave table (custom waveform)
- Channel 4: Noise

#### Sequencer Requirements Analysis

1. **Step Configuration**
   - 16 vs 32 steps:
     - 16 steps would require ~32 bytes per pattern (2 bytes per step)
     - 32 steps would require ~64 bytes per pattern
     - Memory consideration: Multiple patterns stored simultaneously
   
2. **ADSR Implementation**
   - Limitations:
     - GameBoy lacks native envelope generators
     - Would need software implementation
     - CPU overhead considerations
     - Suggested approach: Simplified envelope system using volume registers
   
3. **Storage Requirements**
   - Per pattern (16 steps):
     - Step data: 16 bytes
     - Volume data: 16 bytes
     - Tempo: 1 byte
     - Total: ~33 bytes minimum per pattern
   
4. **Save System**
   - Options:
     - MBC5 cartridge with SRAM
     - Save size needed: (33 bytes * number of patterns)
     - Alternative: Export to C code through external tool

### Technical Recommendations

1. **Initial Implementation**
   - Start with 16 steps
     - More memory efficient
     - Easier to display on GB screen
     - Can expand to 32 if resources permit
   
2. **Simplified Envelope System**
   - Use 4-bit volume control per step
   - Basic attack/decay only initially
   - Could implement full ADSR as optimization
   
3. **Pattern Storage**
   - Implement 8 patterns initially
   - Total RAM usage: ~264 bytes (33 * 8)
   - Save system using MBC5 SRAM

### Questions for Discussion
1. Priority of ADSR vs more patterns?
2. Target number of saveable patterns?
3. Preferred UI layout for 160x144 screen?
4. Export functionality priority level?