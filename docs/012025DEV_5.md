# Development Notes - January 20, 2025 (Evening Update 4)

## Sequencer Implementation - Playback System

### Changes Being Implemented
1. Adding playback state management
   - Playback step counter
   - BPM-based timing system
   - Frame counter for timing
   - Play/Stop state

2. Visual Feedback
   - Play/Stop indicator next to tempo
   - Prepare for sequence position indicator (planned)

### Implementation Details
1. New SEQUENCER_DATA fields:
   - is_playing: Playback state
   - playback_step: Current step in sequence
   - frame_counter: For BPM timing
   - frames_per_step: Calculated from tempo

2. BPM Timing System
   - Using Game Boy's 60fps for timing
   - Formula: frames_per_step = (60 * 60) / (tempo * 4)

3. START Button
   - Toggles playback state
   - Resets playback position on stop

### Next Steps
1. Sound system integration
2. Sequence position indicator
3. Pattern looping implementation